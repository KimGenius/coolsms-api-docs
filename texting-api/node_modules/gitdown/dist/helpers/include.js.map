{"version":3,"sources":["../../src/helpers/include.js"],"names":["helper","fs","require","path","compile","config","context","file","Error","resolve","gitdown","getConfig","baseDirectory","existsSync","console","log","readFileSync","encoding","weight","module","exports"],"mappings":";;AAAA,MAAMA,SAAS,EAAf;AACA,MAAMC,KAAKC,QAAQ,IAAR,CAAX;AACA,MAAMC,OAAOD,QAAQ,MAAR,CAAb;;AAEA;;;;;AAKA;;;;AAIAF,OAAOI,OAAP,GAAiB,YAA0B;AAAA,MAAzBC,MAAyB,yDAAhB,EAAgB;AAAA,MAAZC,OAAY;;AACzC,MAAI,CAACD,OAAOE,IAAZ,EAAkB;AAChB,UAAM,IAAIC,KAAJ,CAAU,+BAAV,CAAN;AACD;;AAEDH,SAAOE,IAAP,GAAcJ,KAAKM,OAAL,CAAaH,QAAQI,OAAR,CAAgBC,SAAhB,GAA4BC,aAAzC,EAAwDP,OAAOE,IAA/D,CAAd;;AAEA,MAAI,CAACN,GAAGY,UAAH,CAAcR,OAAOE,IAArB,CAAL,EAAiC;AAC/B;AACAO,YAAQC,GAAR,CAAY,aAAZ,EAA2BV,OAAOE,IAAlC;;AAEA,UAAM,IAAIC,KAAJ,CAAU,4BAAV,CAAN;AACD;;AAED,SAAOP,GAAGe,YAAH,CAAgBX,OAAOE,IAAvB,EAA6B;AAClCU,cAAU;AADwB,GAA7B,CAAP;AAGD,CAjBD;;AAmBAjB,OAAOkB,MAAP,GAAgB,EAAhB;;AAEAC,OAAOC,OAAP,GAAiBpB,MAAjB","file":"include.js","sourcesContent":["const helper = {};\nconst fs = require('fs');\nconst path = require('path');\n\n/**\n * @typedef config\n * @property {String} file Path to a file.\n */\n\n/**\n * @param {config} config\n * @param {Object} context\n */\nhelper.compile = (config = {}, context) => {\n  if (!config.file) {\n    throw new Error('config.file must be provided.');\n  }\n\n  config.file = path.resolve(context.gitdown.getConfig().baseDirectory, config.file);\n\n  if (!fs.existsSync(config.file)) {\n    // eslint-disable-next-line no-console\n    console.log('config.file', config.file);\n\n    throw new Error('Input file does not exist.');\n  }\n\n  return fs.readFileSync(config.file, {\n    encoding: 'utf8'\n  });\n};\n\nhelper.weight = 20;\n\nmodule.exports = helper;\n"]}