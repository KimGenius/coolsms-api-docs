{"version":3,"sources":["../../src/helpers/variable.js"],"names":["helper","_","require","compile","config","context","scope","gitdown","getConfig","variable","name","Error","magicUndefined","Math","random","value","get","weight","module","exports"],"mappings":";;AAAA,MAAMA,SAAS,EAAf;AACA,MAAMC,IAAIC,QAAQ,QAAR,CAAV;;AAEAF,OAAOG,OAAP,GAAiB,YAA0B;AAAA,MAAzBC,MAAyB,yDAAhB,EAAgB;AAAA,MAAZC,OAAY;;AACzC,QAAMC,QAAQD,QAAQE,OAAR,CAAgBC,SAAhB,GAA4BC,QAA5B,CAAqCH,KAAnD;;AAEA,MAAI,CAACF,OAAOM,IAAZ,EAAkB;AAChB,UAAM,IAAIC,KAAJ,CAAU,+BAAV,CAAN;AACD;;AAED,QAAMC,iBAAiB,eAAeC,KAAKC,MAAL,EAAtC;AACA,QAAMC,QAAQd,EAAEe,GAAF,CAAMV,KAAN,EAAaF,OAAOM,IAApB,EAA0BE,cAA1B,CAAd;;AAEA,MAAIG,UAAUH,cAAd,EAA8B;AAC5B,UAAM,IAAID,KAAJ,CAAU,kBAAkBP,OAAOM,IAAzB,GAAgC,wCAA1C,CAAN;AACD;;AAED,SAAOK,KAAP;AACD,CAfD;;AAiBAf,OAAOiB,MAAP,GAAgB,EAAhB;;AAEAC,OAAOC,OAAP,GAAiBnB,MAAjB","file":"variable.js","sourcesContent":["const helper = {};\nconst _ = require('lodash');\n\nhelper.compile = (config = {}, context) => {\n  const scope = context.gitdown.getConfig().variable.scope;\n\n  if (!config.name) {\n    throw new Error('config.name must be provided.');\n  }\n\n  const magicUndefined = 'undefined-' + Math.random();\n  const value = _.get(scope, config.name, magicUndefined);\n\n  if (value === magicUndefined) {\n    throw new Error('config.name \"' + config.name + '\" does not resolve to a defined value.');\n  }\n\n  return value;\n};\n\nhelper.weight = 10;\n\nmodule.exports = helper;\n"]}