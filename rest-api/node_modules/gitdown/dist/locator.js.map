{"version":3,"sources":["../src/locator.js"],"names":["Locator","fs","require","Path","gitPath","dirname","gitpath","__dirname","existsSync","realpathSync","Error","repositoryPath","resolve","module","exports"],"mappings":";;AAAA,MAAMA,UAAU,EAAhB;AACA,MAAMC,KAAKC,QAAQ,IAAR,CAAX;AACA,MAAMC,OAAOD,QAAQ,MAAR,CAAb;;AAEA;;;;;AAKAF,QAAQI,OAAR,GAAkB,MAAM;AACtB,MAAIC,OAAJ,EACEC,OADF;;AAGAD,YAAUE,SAAV;;AAEA,KAAG;AACD,QAAIN,GAAGO,UAAH,CAAcH,UAAU,OAAxB,CAAJ,EAAsC;AACpCC,gBAAUD,UAAU,OAApB;;AAEA;AACD;;AAEDA,cAAUJ,GAAGQ,YAAH,CAAgBJ,UAAU,KAA1B,CAAV;AACD,GARD,QAQSJ,GAAGO,UAAH,CAAcH,OAAd,KAA0BA,YAAY,GAR/C;;AAUA,MAAI,CAACC,OAAL,EAAc;AACZ,UAAM,IAAII,KAAJ,CAAU,8BAAV,CAAN;AACD;;AAED,SAAOJ,OAAP;AACD,CArBD;;AAuBA;;;;;AAKAN,QAAQW,cAAR,GAAyB,MAAM;AAC7B,SAAOV,GAAGQ,YAAH,CAAgBN,KAAKS,OAAL,CAAaZ,QAAQI,OAAR,EAAb,EAAgC,IAAhC,CAAhB,CAAP;AACD,CAFD;;AAIAS,OAAOC,OAAP,GAAiBd,OAAjB","file":"locator.js","sourcesContent":["const Locator = {};\nconst fs = require('fs');\nconst Path = require('path');\n\n/**\n * Returns path to the .git directory.\n *\n * @returns {string}\n */\nLocator.gitPath = () => {\n  let dirname,\n    gitpath;\n\n  dirname = __dirname;\n\n  do {\n    if (fs.existsSync(dirname + '/.git')) {\n      gitpath = dirname + '/.git';\n\n      break;\n    }\n\n    dirname = fs.realpathSync(dirname + '/..');\n  } while (fs.existsSync(dirname) && dirname !== '/');\n\n  if (!gitpath) {\n    throw new Error('.git path cannot be located.');\n  }\n\n  return gitpath;\n};\n\n/**\n * Returns the parent path of the .git path.\n *\n * @returns {string} Path to the repository.\n */\nLocator.repositoryPath = () => {\n  return fs.realpathSync(Path.resolve(Locator.gitPath(), '..'));\n};\n\nmodule.exports = Locator;\n"]}